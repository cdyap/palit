{"version":3,"names":[],"mappings":"","sources":["order_page.js"],"sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n;(function ($) {\n\n\t'use strict';\n\n\t$('.alert[data-auto-dismiss]').each(function (index, element) {\n\t\tvar $element = $(element),\n\t\t    timeout = $element.data('auto-dismiss') || 5000;\n\n\t\tsetTimeout(function () {\n\t\t\t$element.alert('close');\n\t\t}, timeout);\n\t});\n})(jQuery);\n\n$(document).ready(function () {\n\t$('.dropright').on('shown.bs.dropdown', function () {\n\t\t$(this).addClass('active');\n\t});\n\t$('.dropright').on('hidden.bs.dropdown', function () {\n\t\t$(this).removeClass('active');\n\t});\n\tvar header = $(\".navbar\");\n\t$(window).scroll(function () {\n\t\tvar scroll = $(window).scrollTop();\n\t\tif (scroll >= 80) {\n\t\t\theader.addClass('z-depth-1-half');\n\t\t} else {\n\t\t\theader.removeClass(\"z-depth-1-half\");\n\t\t}\n\t});\n});\n\n$('body.admin.show.ProductsController, body.admin.new.ProductsController').ready(function () {\n\t$('[data-toggle=\"tooltip\"]').tooltip();\n\n\t// prevent 'enter' submitting form.\n\t$('form:not(\".with-cascading-disabling, #add_variant_form\")').on(\"keypress\", \":input:not(textarea)\", function (event) {\n\t\treturn event.keyCode != 13;\n\t});\n\n\t$(\"form.with-cascading-disabling input[name=attribute_1]\").on(\"change paste keyup\", function () {\n\t\tswitch ($(this).val().length) {\n\t\t\tcase 0:\n\t\t\t\tfor (var i = 2; i <= 5; i++) {\n\t\t\t\t\t$(\"form input[name=attribute_\" + i + \"]\").val(null);\n\t\t\t\t\t$(\"form input[name=attribute_\" + i + \"]\").attr(\"disabled\", \"disabled\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t$(\"form input[name=attribute_2]\").removeAttr(\"disabled\");\n\t\t\t\tbreak;\n\n\t\t}\n\t});\n\t$(\"form.with-cascading-disabling input[name=attribute_2]\").on(\"change paste keyup\", function () {\n\t\tswitch ($(this).val().length) {\n\t\t\tcase 0:\n\t\t\t\tfor (var i = 3; i <= 5; i++) {\n\t\t\t\t\t$(\"form input[name=attribute_\" + i + \"]\").val(null);\n\t\t\t\t\t$(\"form input[name=attribute_\" + i + \"]\").attr(\"disabled\", \"disabled\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t$(\"form input[name=attribute_3]\").removeAttr(\"disabled\");\n\t\t\t\tbreak;\n\n\t\t}\n\t});\n\t$(\"form.with-cascading-disabling input[name=attribute_3]\").on(\"change paste keyup\", function () {\n\t\tswitch ($(this).val().length) {\n\t\t\tcase 0:\n\t\t\t\tfor (var i = 4; i <= 5; i++) {\n\t\t\t\t\t$(\"form input[name=attribute_\" + i + \"]\").val(null);\n\t\t\t\t\t$(\"form input[name=attribute_\" + i + \"]\").attr(\"disabled\", \"disabled\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t$(\"form input[name=attribute_4]\").removeAttr(\"disabled\");\n\t\t\t\tbreak;\n\n\t\t}\n\t});\n\t$(\"form.with-cascading-disabling input[name=attribute_4]\").on(\"change paste keyup\", function () {\n\t\tswitch ($(this).val().length) {\n\t\t\tcase 0:\n\t\t\t\t$(\"form input[name=attribute_5]\").val(null);\n\t\t\t\t$(\"form input[name=attribute_5]\").attr(\"disabled\", \"disabled\");\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t$(\"form input[name=attribute_5]\").removeAttr(\"disabled\");\n\t\t\t\tbreak;\n\n\t\t}\n\t});\n\n\t$('a.close.delete-variant').popover({\n\t\ttrigger: 'focus'\n\t});\n\n\t$('a.close.delete-variant').on('inserted.bs.popover', function () {\n\t\t$(this).addClass('highlight');\n\t});\n\n\t$('a.close.delete-variant').on('hide.bs.popover', function () {\n\t\t$(this).removeClass('highlight');\n\t});\n\n\t$('table.table').on('click', 'a.close.delete-variant.highlight', function () {\n\t\tvariant_id = $(this).attr('variant');\n\t\tdelete_variant(variant_id);\n\t});\n\n\tfunction delete_variant(variant_id) {\n\t\ttoken = $('meta[name=\"csrf-token\"]').attr('content');\n\n\t\tvar data_for_sending = {};\n\t\tdata_for_sending.variant_id = variant_id;\n\t\tdata_for_sending._token = token;\n\n\t\turl = \"/deleteVariant/\" + variant_id;\n\n\t\t$.ajaxSetup({\n\t\t\tbeforeSend: function beforeSend(xhr, type) {\n\t\t\t\tif (!type.crossDomain) {\n\t\t\t\t\txhr.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t$.ajax({\n\t\t\tdataType: 'JSON',\n\t\t\tmethod: 'DELETE',\n\t\t\turl: url,\n\t\t\tdata: JSON.stringify(data_for_sending),\n\t\t\tsuccess: function success(a) {\n\t\t\t\tconsole.log(a);\n\t\t\t},\n\t\t\terror: function error(a) {}\n\t\t});\n\t}\n\n\t$('#toggle_availability').click(function () {\n\t\ttoggle_available($(this).attr('variant'));\n\t});\n\n\t$('#toggle_availability_collection').click(function () {\n\t\ttoggle_available_collection($(this).attr('collection'));\n\t});\n\n\t$('table.variants_table').on('click', '.toggle_availability_variant', function () {\n\t\ttoggle_available_variant($(this).data('variant'));\n\t});\n\n\tfunction toggle_available(product_id) {\n\t\ttoken = $('meta[name=\"csrf-token\"]').attr('content');\n\n\t\tvar data_for_sending = {};\n\t\tdata_for_sending.product_id = product_id;\n\t\tdata_for_sending._token = token;\n\t\t// data_for_sending._method = 'PATCH';\n\n\t\turl = \"/toggleAvailability/\" + product_id;\n\n\t\t$.ajaxSetup({\n\t\t\tbeforeSend: function beforeSend(xhr, type) {\n\t\t\t\tif (!type.crossDomain) {\n\t\t\t\t\txhr.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t$.ajax({\n\t\t\tdataType: 'JSON',\n\t\t\tmethod: 'PATCH',\n\t\t\turl: url,\n\t\t\tdata: JSON.stringify(data_for_sending),\n\t\t\tsuccess: function success(a) {\n\t\t\t\tif (a.is_available) {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.name + ' <strong>available</strong> for sale!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\t$('#product_availability').removeClass('text-red');\n\t\t\t\t\t$('#product_availability').text('AVAILABLE');\n\t\t\t\t\t$('#toggle_availability').text('Make unavailable');\n\t\t\t\t} else {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.name + ' <strong>unavailable</strong> for sale!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\t$('#product_availability').addClass('text-red');\n\t\t\t\t\t$('#product_availability').text('UNAVAILABLE');\n\t\t\t\t\t$('#toggle_availability').text('Make available');\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function error(xhr, status, _error) {\n\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + JSON.parse(xhr.responseText) + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t}\n\t\t});\n\n\t\tsetTimeout(removeAddedAlerts, 5000);\n\t}\n\n\tfunction toggle_available_collection(collection_id) {\n\t\ttoken = $('meta[name=\"csrf-token\"]').attr('content');\n\n\t\tvar data_for_sending = {};\n\t\tdata_for_sending.collection_id = collection_id;\n\t\tdata_for_sending._token = token;\n\n\t\turl = \"/toggleAvailabilityCollection/\" + collection_id;\n\n\t\t$.ajaxSetup({\n\t\t\tbeforeSend: function beforeSend(xhr, type) {\n\t\t\t\tif (!type.crossDomain) {\n\t\t\t\t\txhr.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t$.ajax({\n\t\t\tdataType: 'JSON',\n\t\t\tmethod: 'PATCH',\n\t\t\turl: url,\n\t\t\tdata: JSON.stringify(data_for_sending),\n\t\t\tsuccess: function success(a) {\n\t\t\t\tif (a.is_available) {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.name + ' <strong>available</strong> for sale!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\t$('#product_availability').removeClass('text-red');\n\t\t\t\t\t$('#product_availability').text('AVAILABLE');\n\t\t\t\t\t$('#toggle_availability_collection').text('Make unavailable');\n\t\t\t\t} else {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.name + ' <strong>unavailable</strong> for sale!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\t$('#product_availability').addClass('text-red');\n\t\t\t\t\t$('#product_availability').text('UNAVAILABLE');\n\t\t\t\t\t$('#toggle_availability_collection').text('Make available');\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function error(xhr, status, _error2) {\n\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + JSON.parse(xhr.responseText) + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t}\n\t\t});\n\n\t\tsetTimeout(removeAddedAlerts, 5000);\n\t}\n\n\tfunction toggle_available_variant(variant_id) {\n\t\ttoken = $('meta[name=\"csrf-token\"]').attr('content');\n\n\t\tvar data_for_sending = {};\n\t\tdata_for_sending.variant_id = variant_id;\n\t\tdata_for_sending._token = token;\n\t\t// data_for_sending._method = 'PATCH';\n\n\t\turl = \"/toggleAvailabilityVariant/\" + variant_id;\n\n\t\t$.ajaxSetup({\n\t\t\tbeforeSend: function beforeSend(xhr, type) {\n\t\t\t\tif (!type.crossDomain) {\n\t\t\t\t\txhr.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t$.ajax({\n\t\t\tdataType: 'JSON',\n\t\t\tmethod: 'PATCH',\n\t\t\turl: url,\n\t\t\tdata: JSON.stringify(data_for_sending),\n\t\t\tsuccess: function success(a) {\n\t\t\t\tif (a.is_available) {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>Variant <strong>available</strong> for sale!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\t$row = $('.' + a.class);\n\t\t\t\t\t$row.find('.availability').removeClass('text-red');\n\t\t\t\t\t$row.find('.availability').addClass('text-green');\n\t\t\t\t\t$row.find('.availability').attr('data-original-title', 'Available');\n\t\t\t\t\t$row.find('.toggle_availability_variant').text('Make unavailable');\n\t\t\t\t} else {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>Variant <strong>unavailable</strong> for sale!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\t$row = $('.' + a.class);\n\t\t\t\t\t$row.find('.availability').addClass('text-red');\n\t\t\t\t\t$row.find('.availability').removeClass('text-green');\n\t\t\t\t\t$row.find('.availability').attr('data-original-title', 'Unavailable');\n\t\t\t\t\t$row.find('.toggle_availability_variant').text('Make available');\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function error(xhr, status, _error3) {\n\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + JSON.parse(xhr.responseText) + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t}\n\t\t});\n\n\t\tsetTimeout(removeAddedAlerts, 5000);\n\t}\n\n\t$('#add_variant_form').submit(function (e) {\n\t\te.preventDefault();\n\n\t\t$.ajaxSetup({\n\t\t\theaders: {\n\t\t\t\t'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n\t\t\t}\n\t\t});\n\n\t\t$this_form = $(this);\n\n\t\t$.ajax({\n\t\t\tdataType: 'JSON',\n\t\t\tmethod: $('#add_variant_form').attr('method'),\n\t\t\turl: $('#add_variant_form').attr('action'),\n\t\t\tdata: $('#add_variant_form').serialize(),\n\t\t\tsuccess: function success(a) {\n\t\t\t\tif (a.success) {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.message + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\n\t\t\t\t\tnew_variant = '<tr class=\"variant_' + a.variant.id + '\" data-id=\"' + a.variant.id + '\" data-inventory=\"' + a.variant.inventory + '\" data-price=\"' + a.variant.price + '\" data-itemID=\"' + a.variant.id + '\"><td class=\"sortable-handle\"><i class=\"fas fa-arrows-alt-v\"></i></td><td class=\"attribute_1\">' + a.variant.attribute_1 + '</td>';\n\t\t\t\t\tif (typeof a.variant.attribute_2 !== 'undefined') {\n\t\t\t\t\t\tnew_variant = new_variant + '<td class=\"attribute_2\">' + a.variant.attribute_2 + '</td>';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof a.variant.attribute_3 !== 'undefined') {\n\t\t\t\t\t\tnew_variant = new_variant + '<td class=\"attribute_3\">' + a.variant.attribute_3 + '</td>';\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof a.variant.attribute_4 !== 'undefined') {\n\t\t\t\t\t\tnew_variant = new_variant + '<td class=\"attribute_4\">' + a.variant.attribute_4 + '</td>';\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof a.variant.attribute_5 !== 'undefined') {\n\t\t\t\t\t\tnew_variant = new_variant + '<td class=\"attribute_5\">' + a.variant.attribute_5 + '</td>';\n\t\t\t\t\t}\n\n\t\t\t\t\tnew_variant = new_variant + '<td class=\"text-right\">' + a.variant.inventory + '</td><td class=\"text-right\">' + a.variant.view_price + '</td><td class=\"text-center availability text-green\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Available\"><i class=\"fas fa-circle\"></i></td><td><div class=\"btn-group dropright float-right\"><div class=\"option-dropdown\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"fas fa-ellipsis-v\"></i></div><div class=\"dropdown-menu\"><a class=\"dropdown-item edit_variant\" href=\"javascript:void(0);\">Edit variant</a><a class=\"dropdown-item toggle_availability_variant\" href=\"javascript:void(0);\" data-variant=\"' + a.variant.id + '\">Make unavailable</a><div class=\"dropdown-divider\"></div><a class=\"dropdown-item delete\" onClick=\"window.location.reload()\">Click to refresh and delete this variant.</a></div></div></td></tr>';\n\t\t\t\t\t$('#total_inventory').text(a.total_inventory);\n\t\t\t\t\t$('table.variants_table').append(new_variant);\n\t\t\t\t\t$('#no_variants_yet').remove();\n\t\t\t\t} else {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.message + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>').fadeTo(2000, 500);\n\t\t\t\t\t$('#total_inventory').text(a.total_inventory);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function error(a) {\n\t\t\t\tconsole.log(a.message);\n\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.statusText + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t}\n\t\t});\n\t\t$this_form.find('input[name=attribute_1],input[name=attribute_2],input[name=attribute_3],input[name=attribute_4],input[name=attribute_5]').val(\"\");\n\t\t$this_form.find('input[name=inventory]').val(0);\n\t\t$this_form.find('input[name=attribute_1]').select();\n\t\tsetTimeout(removeAddedAlerts, 5000);\n\t\t$(\"body\").tooltip({\n\t\t\tselector: '[data-toggle=\"tooltip\"]'\n\t\t});\n\t});\n\n\tfunction removeAddedAlerts() {\n\t\t$('.alerts-holder .alert:last').alert('close');\n\n\t\tif ($('.alerts-holder .alert').length > 1) {\n\t\t\tsetTimeout(repeatRemoveAddedAlerts, 3000);\n\t\t}\n\t}\n\n\tfunction repeatRemoveAddedAlerts() {\n\t\tremoveAddedAlerts();\n\t}\n\n\t$('table.table').on('show.bs.dropdown', 'td .dropright', function () {\n\t\t$(this).parents('tr').addClass('active');\n\t\t$(this).parents('table').removeClass('table-hover');\n\t});\n\n\t$('table.table').on('hidden.bs.dropdown', 'td .dropright', function () {\n\t\t$(this).parents('tr').removeClass('active');\n\t\t$(this).parents('table').addClass('table-hover');\n\t});\n\n\t$('table.table').on('click', '.edit_variant', function () {\n\t\t$('#edit_variant_block').removeClass('hide');\n\n\t\t$row = $(this).closest('tr');\n\t\t$('#edit_variant_block').find('input[name=attribute_1]').val($row.find('.attribute_1').text());\n\t\t$('#edit_variant_block').find('input[name=attribute_2]').val($row.find('.attribute_2').text());\n\t\t$('#edit_variant_block').find('input[name=attribute_3]').val($row.find('.attribute_3').text());\n\t\t$('#edit_variant_block').find('input[name=attribute_4]').val($row.find('.attribute_4').text());\n\t\t$('#edit_variant_block').find('input[name=attribute_5]').val($row.find('.attribute_5').text());\n\t\t$('#edit_variant_block').find('input[name=inventory]').val($row.data('inventory'));\n\t\t$('#edit_variant_block').find('input[name=variant_id]').val($row.data('id'));\n\t\t$('#edit_variant_block').find('input[name=price]').val($row.data('price'));\n\t});\n\n\t$('#edit_variant_block').on('click', 'button.close', function () {\n\t\t$('#edit_variant_block').addClass('hide');\n\t\t$('#edit_variant_block form').reset();\n\t});\n\n\t//https://github.com/boxfrommars/rutorika-sortable\n\t/**\n     *\n     * @param type string 'insertAfter' or 'insertBefore'\n     * @param entityName\n     * @param id\n     * @param positionId\n     */\n\tvar changePosition = function changePosition(requestData) {\n\t\t$.ajax({\n\t\t\t'url': '/sort',\n\t\t\t'type': 'POST',\n\t\t\t'data': requestData,\n\t\t\t'success': function success(data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>Variant reordered!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\tsetTimeout(removeAddedAlerts, 5000);\n\t\t\t\t} else {\n\t\t\t\t\t$.each(data.errors, function (key, value) {\n\t\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + value + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(removeAddedAlerts, 5000);\n\t\t\t\t}\n\t\t\t},\n\t\t\t'error': function error(e) {\n\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + e.statusText + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\tconsole.log(e);\n\t\t\t\tsetTimeout(removeAddedAlerts, 5000);\n\t\t\t}\n\t\t});\n\t};\n\n\tvar $sortableTable = $('.variants_table tbody');\n\tif ($sortableTable.length > 0) {\n\t\t$sortableTable.sortable({\n\t\t\thandle: '.sortable-handle',\n\t\t\taxis: 'y',\n\t\t\tupdate: function update(a, b) {\n\n\t\t\t\tvar entityName = $(this).data('entityname');\n\t\t\t\tvar $sorted = b.item;\n\n\t\t\t\tvar $previous = $sorted.prev();\n\t\t\t\tvar $next = $sorted.next();\n\n\t\t\t\tif ($previous.length > 0) {\n\t\t\t\t\tchangePosition({\n\t\t\t\t\t\tparentId: $sorted.data('parentid'),\n\t\t\t\t\t\ttype: 'moveAfter',\n\t\t\t\t\t\tentityName: entityName,\n\t\t\t\t\t\tid: $sorted.data('itemid'),\n\t\t\t\t\t\tpositionEntityId: $previous.data('itemid'),\n\t\t\t\t\t\t_token: $(\"meta[name='csrf-token']\").attr('content')\n\t\t\t\t\t});\n\t\t\t\t} else if ($next.length > 0) {\n\t\t\t\t\tchangePosition({\n\t\t\t\t\t\tparentId: $sorted.data('parentid'),\n\t\t\t\t\t\ttype: 'moveBefore',\n\t\t\t\t\t\tentityName: entityName,\n\t\t\t\t\t\tid: $sorted.data('itemid'),\n\t\t\t\t\t\tpositionEntityId: $next.data('itemid'),\n\t\t\t\t\t\t_token: $(\"meta[name='csrf-token']\").attr('content')\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>Something went wrong!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t}\n\t\t\t},\n\t\t\tcursor: \"move\"\n\t\t});\n\t\tsetTimeout(removeAddedAlerts, 5000);\n\t}\n});\n\n$('body.admin.show.CollectionsController, body.admin.new.CollectionsController').ready(function () {\n\n\t$('table.products_table').on('click', '.toggle_availability_product', function () {\n\t\ttoggle_available_product($(this).data('product'));\n\t});\n\n\t$('table.products_table').on('click', '.remove', function () {\n\t\tremove_from_collection($(this).data('product'), $(this).data('collection'));\n\t});\n\n\t$('.add_product_block').click(function () {\n\t\tshow_add_product_block($(this).data('collectionslug'));\n\t});\n\n\tfunction show_add_product_block(collection_slug) {\n\t\t$.get('/getProductsForCollection/' + collection_slug, function (a) {\n\t\t\t$table = $('#add_product_form .table tbody');\n\t\t\t$table.empty();\n\t\t\t$.each(a.products, function (key, value) {\n\t\t\t\tproduct = '<tr><td><div class=\"form-check\"><input class=\"form-check-input\" type=\"checkbox\" name=\"products[]\" value=\"' + value + '\"></div></td><td>' + key + '</td></tr>';\n\t\t\t\t$table.append(product);\n\t\t\t});\n\t\t});\n\n\t\t$('#add_product_block').removeClass('hide');\n\t\tsetTimeout(removeAddedAlerts, 5000);\n\t}\n\n\tfunction toggle_available_product(product_id) {\n\t\ttoken = $('meta[name=\"csrf-token\"]').attr('content');\n\n\t\tvar data_for_sending = {};\n\t\tdata_for_sending.product_id = product_id;\n\t\tdata_for_sending._token = token;\n\t\t// data_for_sending._method = 'PATCH';\n\n\t\turl = \"/toggleAvailability/\" + product_id;\n\n\t\t$.ajaxSetup({\n\t\t\tbeforeSend: function beforeSend(xhr, type) {\n\t\t\t\tif (!type.crossDomain) {\n\t\t\t\t\txhr.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t$.ajax({\n\t\t\tdataType: 'JSON',\n\t\t\tmethod: 'PATCH',\n\t\t\turl: url,\n\t\t\tdata: JSON.stringify(data_for_sending),\n\t\t\tsuccess: function success(a) {\n\t\t\t\tif (a.is_available) {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.name + ' <strong>available</strong> for sale!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\t$row = $('.' + a.slug);\n\t\t\t\t\t$row.find('.availability').removeClass('text-red');\n\t\t\t\t\t$row.find('.availability').addClass('text-green');\n\t\t\t\t\t$row.find('.availability').attr('data-original-title', 'Available');\n\t\t\t\t\t$row.find('.toggle_availability_product').text('Make unavailable');\n\t\t\t\t} else {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.name + ' <strong>unavailable</strong> for sale!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\t$row = $('.' + a.slug);\n\t\t\t\t\t$row.find('.availability').addClass('text-red');\n\t\t\t\t\t$row.find('.availability').removeClass('text-green');\n\t\t\t\t\t$row.find('.availability').attr('data-original-title', 'Unavailable');\n\t\t\t\t\t$row.find('.toggle_availability_product').text('Make available');\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function error(xhr, status, _error4) {\n\t\t\t\tconsole.log(xhr);\n\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + xhr.statusText + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t}\n\t\t});\n\n\t\tsetTimeout(removeAddedAlerts, 5000);\n\t}\n\n\tfunction remove_from_collection(product_slug, collection_slug) {\n\t\ttoken = $('meta[name=\"csrf-token\"]').attr('content');\n\n\t\tvar data_for_sending = {};\n\t\tdata_for_sending.product_slug = product_slug;\n\t\tdata_for_sending.collection_slug = collection_slug;\n\t\tdata_for_sending._token = token;\n\n\t\turl = \"/removeFromCollection\";\n\n\t\t$.ajaxSetup({\n\t\t\tbeforeSend: function beforeSend(xhr, type) {\n\t\t\t\tif (!type.crossDomain) {\n\t\t\t\t\txhr.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t$.ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: url,\n\t\t\tcontentType: \"json\",\n\t\t\tprocessData: false,\n\t\t\tdata: JSON.stringify(data_for_sending),\n\t\t\tsuccess: function success(a) {\n\t\t\t\tif (a.success) {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.product_name + ' removed from ' + a.collection_name + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\t$('.' + product_slug).remove();\n\t\t\t\t} else {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>Something went wrong!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function error(xhr, status, _error5) {\n\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + xhr.statusText + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t}\n\t\t});\n\n\t\tsetTimeout(removeAddedAlerts, 5000);\n\t}\n\n\tfunction removeAddedAlerts() {\n\t\t$('.alerts-holder .alert:last').alert('close');\n\n\t\tif ($('.alerts-holder .alert').length > 1) {\n\t\t\tsetTimeout(repeatRemoveAddedAlerts, 3000);\n\t\t}\n\t}\n\n\tfunction repeatRemoveAddedAlerts() {\n\t\tremoveAddedAlerts();\n\t}\n});\n\n$('body.admin.show.ProductsController, body.admin.show.CollectionsController').ready(function () {\n\tvar myDropzone = new Dropzone('#upload-image-dropzone', {\n\t\tparamName: 'file',\n\t\taddRemoveLinks: true,\n\t\tmaxFilesize: 2, // MB\n\t\tmaxFiles: 1,\n\t\tacceptedFiles: \".jpeg,.jpg,.png,.gif\",\n\t\tinit: function init() {\n\t\t\tthis.on('addedfile', function (file) {\n\t\t\t\tif (this.files.length > 1) {\n\t\t\t\t\tthis.removeFile(this.files[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsuccess: function success(xhr, url, status) {\n\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>Header image uploaded!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t$('.dz-progress').css('display', 'none');\n\t\t\t$('.dz-remove').html('Remove file and upload new image');\n\t\t\t$(\".header-image-block img\").attr(\"src\", url);\n\t\t\tsetTimeout(removeAddedAlerts, 5000);\n\t\t\t$('#uploadImage').modal('hide');\n\t\t\t$('.header-image-block.hide').removeClass('hide');\n\t\t\t$('.delete-header-image-option.hide').removeClass('hide');\n\t\t},\n\t\terror: function error(xhr, _error6, status) {\n\t\t\t$('.dz-details, .dz-progress').css('display', 'none');\n\t\t\t$('.dz-remove').html('Remove upload');\n\n\t\t\tif (_error6 !== null && (typeof _error6 === 'undefined' ? 'undefined' : _typeof(_error6)) === 'object') {\n\t\t\t\t$.each(_error6.errors.file, function (key, value) {\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + value + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + _error6 + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t}\n\t\t\tsetTimeout(removeAddedAlerts, 5000);\n\t\t}\n\n\t});\n\n\tfunction removeAddedAlerts() {\n\t\t$('.alerts-holder .alert:last').alert('close');\n\n\t\tif ($('.alerts-holder .alert').length > 1) {\n\t\t\tsetTimeout(repeatRemoveAddedAlerts, 3000);\n\t\t}\n\t}\n\n\tfunction repeatRemoveAddedAlerts() {\n\t\tremoveAddedAlerts();\n\t}\n});\n\n$('body.admin.index.InventoryController').ready(function () {\n\t// $('.inventory-table tbody tr').click(function(){\n\t// \tproduct_id = $(this).data('product');\n\t// \t$('.product-block').addClass('hide');\n\t// \t$('.block-'+product_id).removeClass('hide');\n\t// })\n});\n\n$('body.admin.create.InventoryController').ready(function () {\n\t$('select.select-product').change(function () {\n\t\t$('form.select-product').submit();\n\t});\n\n\t//change datepicker if javascript is available\n\t$('.datepicker').attr('type', 'text');\n\t$('.datepicker').prop('readonly', true);\n\t$('.datepicker').datepicker({\n\t\tformat: 'yyyy-mm-dd',\n\t\tautoHide: true,\n\t\ttrigger: false,\n\t\tstartDate: new Date()\n\t});\n\n\t//highlight whole input of inputs on form\n\t$('.product-block').on('click', 'input[type=number]', function () {\n\t\t$(this).select();\n\t});\n\n\t//get product/variant information and populate form\n\t$('form.select-product').submit(function (e) {\n\t\te.preventDefault();\n\t\t$.ajaxSetup({\n\t\t\theaders: {\n\t\t\t\t'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n\t\t\t}\n\t\t});\n\n\t\t$this_form = $(this);\n\t\t$('.product-quantity').val(\"\");\n\t\t$('.product-quantity').attr(\"name\", \"xx\");\n\t\t$('.variants-to-add input').remove();\n\n\t\t$.ajax({\n\t\t\tdataType: 'JSON',\n\t\t\tmethod: $this_form.attr('method'),\n\t\t\turl: $this_form.attr('action'),\n\t\t\tdata: $this_form.serialize(),\n\t\t\tsuccess: function success(a) {\n\t\t\t\tif (a.success) {\n\t\t\t\t\t$('.product-block').removeClass('hide');\n\t\t\t\t\t$('.product-block .product-name').text(a.product.name);\n\t\t\t\t\t$('.product-block .product-inventory').text(a.total_inventory);\n\t\t\t\t\t$('.product-block .product-incoming').text(a.incoming);\n\t\t\t\t\t$('.product-block .product-orders').text(a.orders);\n\t\t\t\t\tconsole.log(a);\n\n\t\t\t\t\tif (a.has_variants) {\n\t\t\t\t\t\t$('.product-to-add').addClass('hide');\n\t\t\t\t\t\t$('.variants-to-add').removeClass('hide');\n\t\t\t\t\t\t$('.variants-to-add table tbody').find('tr').remove();\n\t\t\t\t\t\t$('.variants-to-add table').find('td,th').remove();\n\n\t\t\t\t\t\t$.each(a.variant_columns, function (key, value) {\n\t\t\t\t\t\t\tcolumn = \"<th>\" + value.value + \"</th>\";\n\t\t\t\t\t\t\t$('.variants-to-add table thead').append(column);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$('.variants-to-add table thead').append(\"<th class='text-right'>Inventory</th><th class='text-right'>Incoming</th><th class='text-right'>Orders</th><th style='width:170px'>Quantity to add</th>\");\n\n\t\t\t\t\t\t$.each(a.product.variants, function (key, value) {\n\t\t\t\t\t\t\tcolumn = \"<tr>\";\n\t\t\t\t\t\t\tvariant_columns = \"\";\n\t\t\t\t\t\t\tif (typeof value.attribute_1 !== 'undefined' && value.attribute_1 !== null) {\n\t\t\t\t\t\t\t\tcolumn = column + \"<td>\" + value.attribute_1 + \"</td>\";\n\t\t\t\t\t\t\t\tvariant_columns = variant_columns + a.variant_columns[0].value + \": \" + value.attribute_1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof value.attribute_2 !== 'undefined' && value.attribute_2 !== null) {\n\t\t\t\t\t\t\t\tcolumn = column + \"<td>\" + value.attribute_2 + \"</td>\";\n\t\t\t\t\t\t\t\tvariant_columns = variant_columns + \", \" + a.variant_columns[1].value + \": \" + value.attribute_2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof value.attribute_3 !== 'undefined' && value.attribute_3 !== null) {\n\t\t\t\t\t\t\t\tcolumn = column + \"<td>\" + value.attribute_3 + \"</td>\";\n\t\t\t\t\t\t\t\tvariant_columns = variant_columns + \", \" + a.variant_columns[2].value + \": \" + value.attribute_3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof value.attribute_4 !== 'undefined' && value.attribute_4 !== null) {\n\t\t\t\t\t\t\t\tcolumn = column + \"<td>\" + value.attribute_4 + \"</td>\";\n\t\t\t\t\t\t\t\tvariant_columns = variant_columns + \", \" + a.variant_columns[3].value + \": \" + value.attribute_4;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof value.attribute_5 !== 'undefined' && value.attribute_5 !== null) {\n\t\t\t\t\t\t\t\tcolumn = column + \"<td>\" + value.attribute_5 + \"</td>\";\n\t\t\t\t\t\t\t\tvariant_columns = variant_columns + \", \" + a.variant_columns[4].value + \": \" + value.attribute_5;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcolumn = column + \"<td class='text-right'>\" + value.inventory + \"</td>\";\n\t\t\t\t\t\t\tcolumn = column + \"<td class='text-right'>\" + value.inventory + \"</td>\";\n\t\t\t\t\t\t\tcolumn = column + \"<td class='text-right'>\" + value.inventory + \"</td>\";\n\t\t\t\t\t\t\tcolumn = column + '<td><input type=\"number\" class=\"form-control\" name=\"variant[' + value.id + ']\" min=\"0\" data-product=\"' + a.product.name + '\" data-description=\"' + variant_columns + '\" value=\"0\"></td>';\n\t\t\t\t\t\t\tcolumn = column + \"</tr>\";\n\t\t\t\t\t\t\t$('.variants-to-add table tbody').append(column);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.product-to-add').removeClass('hide');\n\t\t\t\t\t\t$('.variants-to-add').addClass('hide');\n\t\t\t\t\t\t$('.product-block .product-quantity').attr('name', \"product[\" + a.product.id + \"]\");\n\t\t\t\t\t\t$('.product-block .product-quantity').data('product', a.product.name);\n\t\t\t\t\t\t$('.product-block .product-to-add input').select();\n\t\t\t\t\t}\n\t\t\t\t} else {}\n\t\t\t},\n\t\t\terror: function error(a) {\n\t\t\t\tconsole.log(a.message);\n\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>' + a.statusText + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t}\n\t\t});\n\n\t\tsetTimeout(removeAddedAlerts, 5000);\n\t\t$(\"body\").tooltip({\n\t\t\tselector: '[data-toggle=\"tooltip\"]'\n\t\t});\n\t});\n\n\t$('table.table .delivery-cart').on('click', 'td button', function () {\n\t\tif ($('.delivery-cart table.table tbody tr').length === 1) {\n\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>You cannot remove the only item in the delivery cart!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\tsetTimeout(removeAddedAlerts, 5000);\n\t\t} else {\n\t\t\t$(this).closest('tr').remove();\n\t\t}\n\t});\n\n\t$('.add-to-delivery').click(function () {\n\t\t$form_inputs = $('.product-block').find('input');\n\t\t// inputs = [];\n\t\tcount = 0;\n\t\t$.each($form_inputs, function (key, value) {\n\t\t\t// form = [value.name, value.value];\n\t\t\tif (value.name !== \"xx\" && value.value !== \"0\" && value.value !== \"\") {\n\t\t\t\tif ($('.delivery-cart table.table input[name=\"' + value.name + '\"]').length === 0) {\n\t\t\t\t\tcount = count + 1;\n\t\t\t\t\t$('.delivery-cart').removeClass('hide');\n\t\t\t\t\tif (!value.dataset.description) {\n\t\t\t\t\t\tvalue.dataset.description = \"\";\n\t\t\t\t\t}\n\t\t\t\t\trow = \"<tr><td>\" + value.dataset.product + \"</td><td>\" + value.dataset.description + \"</td><td>\" + value.value + \"</td><input type='hidden' value='\" + value.value + \"' name='\" + value.name + \"' class=''><td><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'>&times;</span></button></td></tr>\";\n\t\t\t\t\t$('.delivery-cart form table tbody').append(row);\n\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-success alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>Item added!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\tsetTimeout(removeAddedAlerts, 5000);\n\t\t\t\t} else {\n\t\t\t\t\tcount = count + 1;\n\t\t\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>Item already in delivery cart!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t\t\t\tsetTimeout(removeAddedAlerts, 5000);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (count == 0) {\n\t\t\t$('.alerts-holder').prepend('<div class=\"alert alert-error alert-dismissible fade show z-depth-1-half\" role=\"alert\" data-auto-dismiss>All quantities entered are 0!<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\t\t} else {\n\t\t\t// Make sure this.hash has a value before overriding default behavior\n\t\t\tif (this.hash !== \"\") {\n\t\t\t\t// Prevent default anchor click behavior\n\t\t\t\tevent.preventDefault();\n\t\t\t\t// Store hash\n\t\t\t\tvar hash = this.hash;\n\t\t\t\t// Using jQuery's animate() method to add smooth page scroll\n\t\t\t\t// The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area\n\t\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: $(hash).offset().top - 100\n\t\t\t\t}, 400, function () {\n\n\t\t\t\t\t// Add hash (#) to URL when done scrolling (default click behavior)\n\t\t\t\t\twindow.location.hash = \"\";\n\t\t\t\t});\n\t\t\t} // End if\n\t\t}\n\t});\n\n\tfunction removeAddedAlerts() {\n\t\t$('.alerts-holder .alert:last').alert('close');\n\n\t\tif ($('.alerts-holder .alert').length > 1) {\n\t\t\tsetTimeout(repeatRemoveAddedAlerts, 3000);\n\t\t}\n\t}\n\n\tfunction repeatRemoveAddedAlerts() {\n\t\tremoveAddedAlerts();\n\t}\n});\n\n},{}]},{},[1]);\n"],"file":"order_page.js"}